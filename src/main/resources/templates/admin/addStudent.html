<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="admin/base::layout(~{::section},~{::title},~{::style},~{::script})"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Student</title>
    <style>
      #backlogsub, #backlogsub2{
        display: none;
      }
    </style>
  </head>
  <body>
    <div th:fragment="section">
      <div class="card mx-3" style="width: 1250px;">
        <div class="container flex-fill mt-2">
          <div class="card-header bg-primary text-white">
            <h3 class="mb-0">Add Student Form</h3>
          </div>
          <div class="card-body" style=" background-color: #e2e2e2">
            <form method="post" th:action="@{/admin/process-add-student}">
              <!-- Row 1: Student ID and Name -->
              <div class="row my-2">
                <div class="form-group col-md-6">
                  <label for="studentId">Student ID</label>
                  <input
                    type="text"
                    class="form-control"
                    id="studentId"
                    placeholder="Enter Student ID"
                    required
                    name="rollNo"
                  />
                </div>
                <div class="form-group col-md-6">
                  <label for="name">Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="name"
                    placeholder="Enter Name"
                    required
                    name="name"
                  />
                </div>
              </div>

              <!-- Row 2: Address and Email -->
              <div class="row my-3">
                <div class="form-group col-md-6">
                  <label for="address">Address</label>
                  <input
                    type="text"
                    class="form-control"
                    id="address"
                    placeholder="Enter Address"
                    required
                    name="address"
                  />
                </div>
                <div class="form-group col-md-6">
                  <label for="email">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="Enter Email"
                    required
                    name="email"
                  />
                </div>
              </div>

              <!-- Row 3: Contact and Branch -->
              <div class="row my-3">
                <div class="form-group col-md-6">
                  <label for="Contact">Contact</label>
                  <input
                    type="text"
                    class="form-control"
                    id="Contact"
                    placeholder="Enter Contact"
                    required
                    name="phone"
                  />
                </div>
                <div class="form-group col-md-6">
                  <label for="branch">Branch</label>
                  <select
                    name="branch"
                    class="form-control"
                    id="branch"
                    required
                  >
                    <option value="">Select Branch</option>
                    <option value="ETC">ETC</option>
                    <option value="CSE">CSE</option>
                    <option value="EE">EE</option>
                    <option value="ME">ME</option>
                  </select>
                </div>
              </div>

              <!-- Row 4: Backlog and Contact Forum -->
              <div class="row my-3">
                <div class="form-group col-md-6">
                  <label for="backlog">Backlog</label>
                  <select
                    name="backlog"
                    class="form-control"
                    id="backlog"
                    onchange="toggleBacklogSub()"
                    required
                  >
                    <option value="">Select</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                  </select>
                </div>
                <div class="form-group col-md-6">
                  <label for="forum">Forum Member</label>
                  <select
                    name="forum"
                    class="form-control"
                    id="forum"
                    required
                  >
                    <option value="">Select</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                  </select>
                </div>
              </div>

              <div class="row my-3" >
                <div class="form-group col-md-6">
                  <label for="backlogsub">Backlog Subjects if any</label>
                  <textarea class="form-control" name="backSub" id="backlogsub" rows="3" disabled></textarea>
                </div>

                <div class="form-group col-md-6">
                  <label for="backlogsub">Current Backlog Subjects</label>
                  <textarea class="form-control" name="currentBacklog" id="backlogsub2" rows="3" ></textarea>
                </div>

              </div>

              <!-- Row 5: Certificate Text Input -->
              <div class="form-group my-3">
                <label for="certificate">Certificate</label>
                <input
                  type="text"
                  class="form-control"
                  id="certificate"
                  placeholder="Enter Certificate Info"
                  required
                  name="cetification"
                />
              </div>

              <!-- Row 5: participation Text Input -->
              <div class="form-group my-3">
                <label for="participation">Participation</label>
                <input
                  type="text"
                  class="form-control"
                  id="participation"
                  placeholder="Enter participation Info"
                  required
                  name="participation"
                />
              </div>

              <!-- Submit Button -->
              <div class="form-group text-center my-2">
                <button type="submit" class="btn btn-lg btn-primary">
                  Submit
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  <script>

    function toggleBacklogSub(){

      const backlog = document.getElementById('backlog').value;
      const backlogsub = document.getElementById('backlogsub');
      const backlogsub2 = document.getElementById('backlogsub2');

      if (backlog == 'yes'){
        backlogsub.style.display = 'inline';
        backlogsub.disabled = false;

        backlogsub2.style.display = 'inline';
        backlogsub2.disabled = false;

      }else{
        backlogsub.style.display = 'none';
        backlogsub.disabled = true;

        backlogsub2.style.display = 'none';
        backlogsub2.disabled = true;
      }

    }
  </script>
  </body>
</html>
